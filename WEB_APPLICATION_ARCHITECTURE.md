# Music Book Generator - Web Application Architecture

Complete architecture for a web-based music book generation system with document upload, book creation, score generation, and download capabilities.

## Table of Contents

1. [System Overview](#system-overview)
2. [Technology Stack](#technology-stack)
3. [Architecture Diagram](#architecture-diagram)
4. [Frontend (UX/UI)](#frontend-uxui)
5. [Backend API](#backend-api)
6. [Database Schema](#database-schema)
7. [File Storage](#file-storage)
8. [Deployment](#deployment)
9. [Development Roadmap](#development-roadmap)

---

## System Overview

### Key Features

**User Features:**
- ðŸ“¤ Upload scanned PDF music books (12 physical sheets)
- ðŸŽµ Automatic music notation recognition (OCR for music)
- ðŸŽ¼ Generate derived parts automatically (Flute 2, Flute 3, strings, etc.)
- ðŸ“š Create individual part books (one per instrument)
- ðŸŽ¶ Extract individual songs from multi-song books
- ðŸ“ Generate full conductor scores for each song
- ðŸ“¥ Download all generated PDFs
- ðŸ’¾ Save and manage multiple projects
- ðŸ‘¥ User accounts and authentication
- ðŸ”„ Process status tracking (upload â†’ recognize â†’ generate â†’ download)

---

## Technology Stack

### Frontend
- **Framework**: React 18+ with TypeScript
- **UI Library**: Material-UI (MUI) or shadcn/ui
- **State Management**: Redux Toolkit or Zustand
- **File Upload**: react-dropzone
- **PDF Viewer**: react-pdf or pdf.js
- **Charts/Visualizations**: Recharts
- **Build Tool**: Vite

### Backend
- **Framework**: FastAPI (Python) or Node.js (Express/NestJS)
- **ML/AI**: Python FastAPI for music recognition integration
- **Task Queue**: Celery (Python) or Bull (Node.js)
- **WebSocket**: Socket.IO for real-time progress updates
- **API Documentation**: OpenAPI/Swagger (auto-generated by FastAPI)

### Database
- **Primary**: PostgreSQL (user data, projects, metadata)
- **Cache**: Redis (session management, task results)
- **Search**: Elasticsearch (optional, for searching songs/parts)

### File Storage
- **Local Development**: Local filesystem
- **Production**: AWS S3 / Google Cloud Storage / Azure Blob Storage
- **CDN**: CloudFront / Cloudflare for serving PDFs

### AI/ML Processing
- **Music Recognition**: PyTorch (existing CNN models)
- **PDF Processing**: pdf2image, OpenCV
- **Music Generation**: music21, reportlab

### DevOps
- **Containerization**: Docker + Docker Compose
- **Orchestration**: Kubernetes (production) or Docker Swarm
- **CI/CD**: GitHub Actions / GitLab CI
- **Monitoring**: Prometheus + Grafana
- **Logging**: ELK Stack (Elasticsearch, Logstash, Kibana)

---

## Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         React Frontend (TypeScript)                   â”‚  â”‚
â”‚  â”‚  - Dashboard                                          â”‚  â”‚
â”‚  â”‚  - Upload Interface                                   â”‚  â”‚
â”‚  â”‚  - Project Manager                                    â”‚  â”‚
â”‚  â”‚  - PDF Viewer/Downloader                             â”‚  â”‚
â”‚  â”‚  - Progress Tracking                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTPS/WSS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY / NGINX                       â”‚
â”‚  - Load Balancing                                            â”‚
â”‚  - SSL Termination                                           â”‚
â”‚  - Rate Limiting                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     BACKEND SERVICES                         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  FastAPI Server â”‚  â”‚  WebSocket Serverâ”‚                 â”‚
â”‚  â”‚  - User Auth    â”‚  â”‚  - Real-time     â”‚                 â”‚
â”‚  â”‚  - Projects     â”‚  â”‚    updates       â”‚                 â”‚
â”‚  â”‚  - File Upload  â”‚  â”‚  - Progress      â”‚                 â”‚
â”‚  â”‚  - Job Queue    â”‚  â”‚    tracking      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚       Task Queue (Celery/Bull)       â”‚                   â”‚
â”‚  â”‚                                      â”‚                   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚  â”‚  â”‚    Worker Nodes (Parallel)   â”‚  â”‚                   â”‚
â”‚  â”‚  â”‚                              â”‚  â”‚                   â”‚
â”‚  â”‚  â”‚  1. PDF Upload Worker        â”‚  â”‚                   â”‚
â”‚  â”‚  â”‚  2. Recognition Worker       â”‚  â”‚                   â”‚
â”‚  â”‚  â”‚  3. Generation Worker        â”‚  â”‚                   â”‚
â”‚  â”‚  â”‚  4. Export Worker            â”‚  â”‚                   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL   â”‚      â”‚   File Storage    â”‚
â”‚   - Users      â”‚      â”‚   - S3 / GCS      â”‚
â”‚   - Projects   â”‚      â”‚   - Uploaded PDFs â”‚
â”‚   - Songs      â”‚      â”‚   - Generated PDFsâ”‚
â”‚   - Parts      â”‚      â”‚   - Temp files    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Redis      â”‚
â”‚   - Sessions   â”‚
â”‚   - Cache      â”‚
â”‚   - Task Queue â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Frontend (UX/UI)

### Page Structure

#### 1. **Landing Page** (`/`)
- Hero section with demo
- Feature highlights
- Pricing/plans
- Call-to-action buttons

#### 2. **Dashboard** (`/dashboard`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Music Book Generator Dashboard          [Profile]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Your Projects                         [+ New]      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ“ Band Collection 2024      [Open] [Delete]â”‚  â”‚
â”‚  â”‚     Status: Processing (75%)                 â”‚  â”‚
â”‚  â”‚     12 uploads â€¢ 22 parts generated          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ“ Orchestra Arrangements    [Open] [Delete]â”‚  â”‚
â”‚  â”‚     Status: Complete                         â”‚  â”‚
â”‚  â”‚     8 uploads â€¢ 15 parts generated           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â”‚  Recent Activity                                    â”‚
â”‚  â€¢ Song "March No. 1" extracted (2 min ago)        â”‚
â”‚  â€¢ Generated Flute 2 part (5 min ago)              â”‚
â”‚  â€¢ Uploaded Trombone 1.pdf (10 min ago)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. **Project Workspace** (`/project/:id`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Dashboard     Project: Band Collection 2024      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                           â”‚
â”‚  Sidebar         â”‚         Main Workspace                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                           â”‚
â”‚  â”‚ 1. Upload  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2. Review  â”‚ â”‚  â”‚  Step 1: Upload Your Music Books    â”‚ â”‚
â”‚  â”‚ 3. Generateâ”‚ â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ 4. Extract â”‚ â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ 5. Downloadâ”‚ â”‚  â”‚  â”‚  Drop PDFs here or click      â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚  to browse                     â”‚ â”‚ â”‚
â”‚                  â”‚  â”‚  â”‚                               â”‚ â”‚ â”‚
â”‚  Progress:       â”‚  â”‚  â”‚  ðŸ“„ Supported: PDF files      â”‚ â”‚ â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                  â”‚  â”‚                                      â”‚ â”‚
â”‚  Uploaded (12):  â”‚  â”‚  Uploaded Files:                    â”‚ â”‚
â”‚  âœ“ Trombone 1    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  âœ“ Trombone 2    â”‚  â”‚  â”‚ ðŸ“„ Trombone_1.pdf    [âœ“]    â”‚ â”‚ â”‚
â”‚  âœ“ French Horn   â”‚  â”‚  â”‚ ðŸ“„ Trombone_2.pdf    [âœ“]    â”‚ â”‚ â”‚
â”‚  âœ“ ...           â”‚  â”‚  â”‚ ðŸ“„ French_Horn.pdf   [âœ“]    â”‚ â”‚ â”‚
â”‚                  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                  â”‚  â”‚                                      â”‚ â”‚
â”‚                  â”‚  â”‚  [Continue to Review] â†’             â”‚ â”‚
â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                  â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. **Review & Recognition** (`/project/:id/review`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: Review Recognized Music                             â”‚
â”‚                                                              â”‚
â”‚  Trombone 1.pdf - Page 1 of 3                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [PDF Preview with recognized notation overlay]      â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  Song: March No. 1                                    â”‚  â”‚
â”‚  â”‚  Measures: 32                                         â”‚  â”‚
â”‚  â”‚  Confidence: 94%                                      â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  [Edit Title] [Adjust Boundaries]                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â† Previous Page    [Accept All]    Next Page â†’            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5. **Generate Parts** (`/project/:id/generate`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: Generate Derived Parts                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Automatic Part Generation                           â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Flute 2 (from 2nd parts)                 â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Flute 3 (from 3rd parts)                 â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Violin (Flute 1 octave down)             â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Viola (Flute 3 octave down)              â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Cello (= Trombone 1)                     â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Bassoon (= Trombone 2)                   â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Tuba (Baritone octave down)              â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Oboe (= Flute 2)                         â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Alto Clarinet (= 3rd Alto Sax)           â”‚  â”‚
â”‚  â”‚  â˜‘ Generate Eb Baritone Sax (from low brass)         â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  [Generate Selected Parts]                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  Generation Progress:                                       â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 95%                                  â”‚
â”‚  Generating: Eb Baritone Sax...                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6. **Extract Songs** (`/project/:id/songs`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: Define and Extract Songs                           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Song 1                                   [Edit] [Ã—]  â”‚  â”‚
â”‚  â”‚  Title: March No. 1                                   â”‚  â”‚
â”‚  â”‚  Measures: 0 - 32                                     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  Song 2                                   [Edit] [Ã—]  â”‚  â”‚
â”‚  â”‚  Title: Beautiful Waltz                               â”‚  â”‚
â”‚  â”‚  Measures: 33 - 64                                    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  [+ Add Song]                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [Extract Songs & Create Scores]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7. **Download Center** (`/project/:id/download`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: Download Your Books                                â”‚
â”‚                                                              â”‚
â”‚  Individual Part Books (All Songs)           [Download All] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â–¡ Trombone_1.pdf                 [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  â–¡ Trombone_2.pdf                 [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  â–¡ Flute_2.pdf (Generated)        [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  â–¡ Violin.pdf (Generated)         [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  ... (22 total)                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  Song Scores (Conductor Scores)              [Download All] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â–¡ March_No_1_Score.pdf           [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  â–¡ Beautiful_Waltz_Score.pdf      [Preview] [â¬‡]      â”‚  â”‚
â”‚  â”‚  â–¡ Grand_Finale_Score.pdf         [Preview] [â¬‡]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  Song Parts (Individual Parts per Song)      [Download All] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ“ March_No_1/                                       â”‚  â”‚
â”‚  â”‚     â–¡ Trombone_1.pdf              [â¬‡]                â”‚  â”‚
â”‚  â”‚     â–¡ Flute_2.pdf                 [â¬‡]                â”‚  â”‚
â”‚  â”‚     ... (22 parts)                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [Download All as ZIP]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key UI Components

```typescript
// TypeScript Component Examples

// File Upload Component
interface UploadProps {
  onFilesAdded: (files: File[]) => void;
  maxFiles?: number;
  acceptedTypes?: string[];
}

const FileUpload: React.FC<UploadProps> = ({ onFilesAdded }) => {
  // Drag-and-drop implementation
  // File validation
  // Upload progress
};

// Progress Tracker
interface ProgressProps {
  currentStep: number;
  totalSteps: number;
  stepLabels: string[];
}

const ProgressTracker: React.FC<ProgressProps> = ({ ... }) => {
  // Visual progress indicator
  // Step navigation
};

// PDF Viewer
interface PDFViewerProps {
  fileUrl: string;
  onPageChange?: (page: number) => void;
}

const PDFViewer: React.FC<PDFViewerProps> = ({ ... }) => {
  // PDF rendering
  // Zoom controls
  // Page navigation
};
```

---

## Backend API

### API Endpoints

#### Authentication
```
POST   /api/auth/register
POST   /api/auth/login
POST   /api/auth/logout
GET    /api/auth/me
POST   /api/auth/refresh
```

#### Projects
```
GET    /api/projects
POST   /api/projects
GET    /api/projects/:id
PUT    /api/projects/:id
DELETE /api/projects/:id
```

#### File Upload
```
POST   /api/projects/:id/upload
GET    /api/projects/:id/files
DELETE /api/projects/:id/files/:fileId
```

#### Music Recognition
```
POST   /api/projects/:id/recognize
GET    /api/projects/:id/recognition-status
POST   /api/projects/:id/recognition/:partId/edit
```

#### Part Generation
```
POST   /api/projects/:id/generate-parts
GET    /api/projects/:id/parts
GET    /api/projects/:id/parts/:partId
```

#### Song Extraction
```
POST   /api/projects/:id/songs
GET    /api/projects/:id/songs
PUT    /api/projects/:id/songs/:songId
DELETE /api/projects/:id/songs/:songId
POST   /api/projects/:id/extract-songs
```

#### Export/Download
```
POST   /api/projects/:id/export/individual-books
POST   /api/projects/:id/export/song-scores
POST   /api/projects/:id/export/song-parts
GET    /api/projects/:id/downloads
GET    /api/downloads/:downloadId
```

#### WebSocket Events
```
connect         - Client connection
join_project    - Join project room for updates
progress        - Processing progress update
error           - Error notifications
complete        - Task completion notification
```

### FastAPI Implementation Example

```python
# main.py
from fastapi import FastAPI, UploadFile, WebSocket
from fastapi.middleware.cors import CORSMiddleware
from sqlalchemy.orm import Session
from typing import List
import asyncio

app = FastAPI(title="Music Book Generator API")

# CORS configuration
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],  # React dev server
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Upload endpoint
@app.post("/api/projects/{project_id}/upload")
async def upload_files(
    project_id: int,
    files: List[UploadFile],
    db: Session = Depends(get_db),
    current_user: User = Depends(get_current_user)
):
    """Upload PDF files for a project."""
    uploaded_files = []

    for file in files:
        # Save to storage
        file_path = await save_uploaded_file(file, project_id)

        # Create database record
        db_file = File(
            project_id=project_id,
            filename=file.filename,
            file_path=file_path,
            upload_date=datetime.utcnow()
        )
        db.add(db_file)
        uploaded_files.append(db_file)

    db.commit()

    # Queue recognition task
    task = recognize_files.delay(project_id, [f.id for f in uploaded_files])

    return {
        "files": uploaded_files,
        "task_id": task.id
    }

# Recognition endpoint
@app.post("/api/projects/{project_id}/recognize")
async def start_recognition(
    project_id: int,
    db: Session = Depends(get_db)
):
    """Start music recognition for uploaded files."""
    # Queue Celery task
    task = process_recognition.delay(project_id)

    return {
        "task_id": task.id,
        "status": "processing"
    }

# WebSocket for real-time updates
@app.websocket("/ws/project/{project_id}")
async def websocket_endpoint(
    websocket: WebSocket,
    project_id: int
):
    await websocket.accept()

    try:
        while True:
            # Send progress updates
            progress = await get_project_progress(project_id)
            await websocket.send_json(progress)
            await asyncio.sleep(1)
    except Exception as e:
        await websocket.close()

# Celery tasks
from celery import Celery

celery_app = Celery('tasks', broker='redis://localhost:6379/0')

@celery_app.task(bind=True)
def process_recognition(self, project_id: int):
    """Background task for music recognition."""
    from music_recognition import MusicRecognitionSystem, PDFMusicReader

    # Update progress
    self.update_state(state='PROGRESS', meta={'step': 'loading', 'percent': 0})

    # Load files
    project = get_project(project_id)
    files = project.files

    reader = PDFMusicReader()
    system = MusicRecognitionSystem()

    total_files = len(files)

    for i, file in enumerate(files):
        # Update progress
        percent = int((i / total_files) * 100)
        self.update_state(
            state='PROGRESS',
            meta={'step': f'recognizing {file.filename}', 'percent': percent}
        )

        # Extract and recognize
        extraction = reader.process_pdf_score(file.file_path)

        for staff_info in extraction['staves']:
            recognized = system.recognize_from_file(staff_info['image_path'])
            # Save to database
            save_recognized_part(project_id, file.id, recognized)

    return {'status': 'complete', 'parts_recognized': total_files}
```

---

## Database Schema

### PostgreSQL Tables

```sql
-- Users table
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_login TIMESTAMP
);

-- Projects table
CREATE TABLE projects (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    status VARCHAR(50) DEFAULT 'created',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Uploaded files
CREATE TABLE files (
    id SERIAL PRIMARY KEY,
    project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE,
    filename VARCHAR(255) NOT NULL,
    file_path VARCHAR(500) NOT NULL,
    file_type VARCHAR(50),
    file_size INTEGER,
    upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    recognition_status VARCHAR(50) DEFAULT 'pending'
);

-- Recognized parts
CREATE TABLE parts (
    id SERIAL PRIMARY KEY,
    project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE,
    source_file_id INTEGER REFERENCES files(id),
    part_name VARCHAR(255) NOT NULL,
    instrument_type VARCHAR(100),
    is_generated BOOLEAN DEFAULT FALSE,
    musicxml_data TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Songs
CREATE TABLE songs (
    id SERIAL PRIMARY KEY,
    project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE,
    title VARCHAR(255) NOT NULL,
    start_measure INTEGER,
    end_measure INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Generated exports
CREATE TABLE exports (
    id SERIAL PRIMARY KEY,
    project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE,
    export_type VARCHAR(50), -- 'individual_book', 'song_score', 'song_part'
    filename VARCHAR(255),
    file_path VARCHAR(500),
    file_size INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Processing tasks
CREATE TABLE tasks (
    id SERIAL PRIMARY KEY,
    project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE,
    task_type VARCHAR(50),
    status VARCHAR(50) DEFAULT 'pending',
    progress INTEGER DEFAULT 0,
    result_data JSONB,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP
);
```

---

## File Storage

### Directory Structure

```
storage/
â”œâ”€â”€ uploads/                    # User uploaded PDFs
â”‚   â””â”€â”€ project_123/
â”‚       â”œâ”€â”€ trombone_1.pdf
â”‚       â”œâ”€â”€ trombone_2.pdf
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ extracted/                  # Extracted staff images
â”‚   â””â”€â”€ project_123/
â”‚       â”œâ”€â”€ file_1/
â”‚       â”‚   â”œâ”€â”€ page_1_staff_1.png
â”‚       â”‚   â””â”€â”€ page_1_staff_2.png
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ generated/                  # Generated PDFs
â”‚   â””â”€â”€ project_123/
â”‚       â”œâ”€â”€ individual_books/
â”‚       â”‚   â”œâ”€â”€ Trombone_1.pdf
â”‚       â”‚   â”œâ”€â”€ Flute_2.pdf
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ song_scores/
â”‚       â”‚   â”œâ”€â”€ March_No_1_Score.pdf
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ song_parts/
â”‚           â”œâ”€â”€ March_No_1/
â”‚           â”‚   â”œâ”€â”€ Trombone_1.pdf
â”‚           â”‚   â””â”€â”€ ...
â”‚           â””â”€â”€ ...
â”‚
â””â”€â”€ temp/                       # Temporary processing files
    â””â”€â”€ project_123/
        â””â”€â”€ ...
```

### S3 Bucket Structure (Production)

```
music-book-generator/
â”œâ”€â”€ uploads/{user_id}/{project_id}/
â”œâ”€â”€ extracted/{user_id}/{project_id}/
â”œâ”€â”€ generated/{user_id}/{project_id}/
â””â”€â”€ exports/{user_id}/{project_id}/
```

---

## Deployment

### Docker Compose (Development)

```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    volumes:
      - ./frontend:/app
    environment:
      - REACT_APP_API_URL=http://localhost:8000

  backend:
    build: ./backend
    ports:
      - "8000:8000"
    volumes:
      - ./backend:/app
      - ./storage:/storage
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/musicgen
      - REDIS_URL=redis://redis:6379/0
    depends_on:
      - db
      - redis

  worker:
    build: ./backend
    command: celery -A tasks worker --loglevel=info
    volumes:
      - ./backend:/app
      - ./storage:/storage
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/musicgen
      - REDIS_URL=redis://redis:6379/0
    depends_on:
      - db
      - redis

  db:
    image: postgres:15
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
      - POSTGRES_DB=musicgen
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend

volumes:
  postgres_data:
```

### Kubernetes Deployment (Production)

See separate `kubernetes/` directory for manifests.

---

## Development Roadmap

### Phase 1: MVP (Months 1-2)
- âœ… Core backend API (FastAPI)
- âœ… File upload and storage
- âœ… Music recognition integration
- âœ… Basic frontend (React)
- âœ… User authentication
- âœ… Single project workflow

### Phase 2: Full Features (Months 3-4)
- âœ… Song extraction UI
- âœ… Real-time progress tracking (WebSocket)
- âœ… Part generation interface
- âœ… Download center
- âœ… PDF preview
- âœ… Multi-project support

### Phase 3: Polish & Scale (Months 5-6)
- âœ… Performance optimization
- âœ… Batch processing
- âœ… Advanced error handling
- âœ… User dashboard analytics
- âœ… Email notifications
- âœ… Payment integration (if needed)

### Phase 4: Advanced Features (Future)
- ðŸ”„ Collaborative editing
- ðŸ”„ Version control for projects
- ðŸ”„ Template library
- ðŸ”„ Mobile app (React Native)
- ðŸ”„ AI-powered improvements
- ðŸ”„ Cloud storage integration

---

## Getting Started

### Prerequisites

```bash
# Backend
Python 3.11+
PostgreSQL 15+
Redis 7+

# Frontend
Node.js 18+
npm or yarn
```

### Installation

```bash
# Clone repository
git clone https://github.com/yourusername/music-book-generator.git
cd music-book-generator

# Start with Docker Compose
docker-compose up -d

# Or manual setup:

# Backend
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
alembic upgrade head
uvicorn main:app --reload

# Frontend
cd frontend
npm install
npm run dev

# Workers
cd backend
celery -A tasks worker --loglevel=info
```

### Access

- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs
- Admin Panel: http://localhost:8000/admin

---

## Next Steps

1. Set up the project structure
2. Initialize frontend React app
3. Build backend API with FastAPI
4. Integrate existing music recognition code
5. Create database migrations
6. Implement file upload system
7. Build UI components
8. Add WebSocket for real-time updates
9. Deploy to staging environment
10. User testing and feedback

---

## Questions?

For more details on specific components, see:
- `frontend/README.md` - Frontend documentation
- `backend/README.md` - Backend API documentation
- `docs/API.md` - API reference
- `docs/DEPLOYMENT.md` - Deployment guide
